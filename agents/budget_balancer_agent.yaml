# Budget Balancer Agent - Analyze and optimize travel budget
# Breaks down costs and provides budget recommendations

type: "openagents.agents.collaborator_agent.CollaboratorAgent"
agent_id: "budget-balancer-agent"

config:
  model_name: "glm-4.6"
  max_iterations: 5

  instruction: |
    You are a travel budget analyzer. Analyze travel costs and provide budget recommendations.
    
    YOUR TOOLS:
    - send_event(event_name, destination_id, payload) - Send budget analysis back
    - finish() - Call this after completing

  react_to_all_messages: false

  triggers:
    - event: "task.analyze_budget"
      instruction: |
        Analyze the budget based on the itinerary in payload.itinerary.
        
        Provide a simple budget breakdown:
        - Transportation costs
        - Accommodation costs
        - Food costs
        - Attraction costs
        - Total estimate
        
        Keep it concise and readable.
        
        Then send back:
        1. Call send_event with event_name="budget.analyzed", destination_id="coordinator"
        2. In payload, include: project_id (copy from payload), budget_analysis (your analysis as text), itinerary (copy from payload)
        3. Call finish()

mods:
  - name: "openagents.mods.workspace.default"
    enabled: true

connection:
  host: "localhost"
  port: 8700
  transport: "grpc"
