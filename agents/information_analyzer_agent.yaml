# Information Analyzer Agent - Analyze scraped travel data

type: "openagents.agents.collaborator_agent.CollaboratorAgent"
agent_id: "information-analyzer-agent"

config:
  model_name: "glm-4.5"
  max_iterations: 5

  tools:
    - name: "analyze_information"
      description: "Analyze scraped travel information and provide structured analysis results"
      implementation: "tools.information_analyzer.analyze_information"
      input_schema:
        type: object
        properties:
          raw_data:
            type: array
            description: "Raw data list to analyze"
          analysis_type:
            type: string
            description: "Analysis type: comprehensive|quick|detailed"
        required:
          - raw_data

  instruction: |
    You are TripMind's information analysis expert. Analyze scraped travel data.
    
    Your tools:
    - analyze_information(raw_data, analysis_type) - Analyze travel information
    - send_event(event_name, destination_id, payload) - Send events to other agents
    - finish() - Complete tasks

  react_to_all_messages: false

  triggers:
    - event: "info.scraping.completed"
      instruction: |
        Received scraped data. Analyze it.
        
        Steps:
        1. Extract from payload: project_id, raw_data
        
        2. Send progress update:
           send_event(event_name="progress.update", destination_id="coordinator", payload={"project_id": "<project_id>", "agent_id": "information-analyzer-agent", "status": "started", "message": "Analyzing scraped data..."})
        
        3. Call analyze_information:
           analyze_information(raw_data=<raw_data from payload>, analysis_type="comprehensive")
        
        4. Parse the JSON result and send to route-planning-agent:
           send_event(event_name="progress.update", destination_id="coordinator", payload={"project_id": "<project_id>", "agent_id": "information-analyzer-agent", "status": "completed", "message": "Analysis complete! -> route-planning-agent"})
           send_event(event_name="info.analysis.completed", destination_id="route-planning-agent", payload={"project_id": "<project_id>", "processed_data": <processed_data from result>, "quality_metrics": <quality_metrics from result>})
        
        5. Call finish()

mods:
  - name: "openagents.mods.workspace.default"
    enabled: true

connection:
  host: "localhost"
  port: 8700
  transport: "grpc"
